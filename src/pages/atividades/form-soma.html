<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/src/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Soma</title>
</head>

<body>
    <div id="headerElement"></div>
    <div class="row">
        <div class="col-2">
            <div class="list-group" id="list-tab" role="tablist" style="margin-top: 150px;
            margin-left: 15px;">
                <a class="list-group-item list-group-item-action active" id="list-home-list" data-bs-toggle="list"
                    href="#list-home" role="tab" aria-controls="t1">Verificador de Idade</a>
                <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                    href="#list-profile" role="tab" aria-controls="t2">Comparador de Numeros</a>
                <a class="list-group-item list-group-item-action" id="list-messages-list" data-bs-toggle="list"
                    href="#list-messages" role="tab" aria-controls="t3">Verificador de Divisão</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-settings" role="tab" aria-controls="t4">Verificador de Temperatura</a>
                <a class="list-group-item list-group-item-action" id="list-t5-list" data-bs-toggle="list" href="#t5"
                    role="tab" aria-controls="t5">Fatorial</a>
                <a class="list-group-item list-group-item-action" id="list-t6-list" data-bs-toggle="list" href="#t6"
                    role="tab" aria-controls="t6">Contagem Regressiva</a>
                <a class="list-group-item list-group-item-action" id="list-t7-list" data-bs-toggle="list" href="#t7"
                    role="tab" aria-controls="t7">Tabuada</a>
                <a class="list-group-item list-group-item-action" id="list-t8-list" data-bs-toggle="list" href="#t8"
                    role="tab" aria-controls="t8">Verificador de Notas</a>
                <a class="list-group-item" id="list-messages-list" href="/index.html#projetos">Voltar</a>
            </div>
        </div>
        <div class="col-8">
            <div class="tab-content" id="nav-tabContent" style="margin-top: 150px;
            margin-left: 15px;">
                <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="t1">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Verificar idade</h3>
                        <input type="number" class="form-control" placeholder="Digite sua idade" id="idade">
                        <button onclick="salvarIdade()" style="margin-top: 20px;"
                            class="btn btn-primary">Salvar</button>
                        <p id="resultIdade"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="t2">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Comparar numeros</h3>
                        <input type="number" class="form-control" placeholder="Digite o primero numero" id="comparar">
                        <input type="number" class="form-control" placeholder="Digite o segundo numero" id="comparar2"
                            style="margin-top: 10px;">
                        <button onclick="compararNumeros()" style="margin-top: 20px;"
                            class="btn btn-primary">Salvar</button>
                        <p id="resultComparar"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="t3">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Verificar se é divisivel</h3>
                        <input type="number" class="form-control" placeholder="Digite o primero numero" id="divisivel">
                        <input type="number" class="form-control" placeholder="Digite o segundo numero" id="divisivel2"
                            style="margin-top: 10px;">
                        <button onclick="verificarDivisivel()" style="margin-top: 20px;"
                            class="btn btn-primary">Salvar</button>
                        <p id="resultDivisivel"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="t4">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Verificar Temperatura</h3>
                        <input type="number" class="form-control" placeholder="Digite a temperatura" id="temperatura">
                        <button onclick="verificaTemperatura()" style="margin-top: 20px;"
                            class="btn btn-primary">Salvar</button>
                        <p id="resultTemperatura"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="t5" role="tabpanel" aria-labelledby="t5">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Fatorial</h3>
                        <input type="number" class="form-control" placeholder="Digite um numero para fatorar"
                            id="fatorial">
                        <button onclick="fatorial()" style="margin-top: 20px;" class="btn btn-primary">Salvar</button>
                        <p id="resultFatorial"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="t6" role="tabpanel" aria-labelledby="t6">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Contagem Regressiva</h3>
                        <input type="number" class="form-control" placeholder="Digite o numero para contagem regressiva"
                            id="regressiva">
                        <button onclick="contagemRegressiva()" style="margin-top: 20px;"
                            class="btn btn-primary">Salvar</button>
                        <p id="resultRegressiva"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="t7" role="tabpanel" aria-labelledby="t7">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 400px; ">
                        <h3>Tabuada</h3>
                        <input type="number" class="form-control" placeholder="Digite o numero para fazer a tabuada"
                            id="tabuada">
                        <button onclick="tabuada()" style="margin-top: 20px;" class="btn btn-primary">Salvar</button>
                        <p id="resultTabuada"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="t8" role="tabpanel" aria-labelledby="t8">
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 500px;" id="divAluno">
                        <input type="text" class="form-control" placeholder="Digite o nome do aluno" id="nomeAluno">
                        <input type="checkbox" id="nomeInstituicao">
                        <label for="nomeInstituicao">Senai</label>
                        <br>
                        <input type="checkbox" id="nomeCurso">
                        <label for="nomeCurso">Tecnico em Informatica para Internet</label>
                        <br>
                        <button onclick="aluno()" style="margin-top: 20px;" class="btn btn-primary">Salvar</button>
                        <p id="alerta2" style="color: red;"></p>
                    </div>
                    <div style="margin-top: 50px; margin-left: 75px; max-width: 500px;" id="divBoletim">
                        <h3>Boletim</h3>
                        <div class="input-group mb-3">
                            <div id="divSelect">
                                <select id="nomeMaterias" class="form-select">
                                </select>
                            </div>
                        </div>
                        <p id="alerta" style="color: red;"></p>
                        <div id="bimestres">
                            <div class="input-group flex-nowrap" id="bims1">
                                <span class="input-group-text" id="addon-wrapping">1º Bim</span>
                                <input type="number" class="form-control" placeholder="Nota 1" aria-label="Nota 1"
                                    aria-describedby="addon-wrapping" id="bim1">
                                <span class="input-group-text" id="addon-wrapping">2º Bim</span>
                                <input type="number" class="form-control" placeholder="Nota 2" aria-label="Nota 2"
                                    aria-describedby="addon-wrapping" id="bim2">
                            </div>
                            <div class="input-group flex-nowrap" id="bims2">
                                <span class="input-group-text" id="addon-wrapping">3º Bim</span>
                                <input type="number" class="form-control" placeholder="Nota 3" aria-label="Nota 3"
                                    aria-describedby="addon-wrapping" id="bim3">
                                <span class="input-group-text" id="addon-wrapping">4º Bim</span>
                                <input type="number" class="form-control" placeholder="Nota 4" aria-label="Nota 4"
                                    aria-describedby="addon-wrapping" id="bim4">
                            </div>
                        </div>
                        <button onclick="notas()" style="margin-top: 20px;" class="btn btn-primary"
                            id="btnSalvar">Salvar</button>
                        <button onclick="teste()" style="margin-top: 20px;" class="btn btn-primary"
                            id="btnMostrar">Mostrar todos os
                            alunos</button>
                        <button onclick="adicionaOutro()" style="margin-top: 20px;" class="btn btn-primary"
                            id="btnAdicionar">Adicionar
                            outro aluno</button>
                        <p id="alerta3" style="color: red;"></p>
                        <p id="resultNotas"></p>
                        <p id="resultNotas2"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script>

        divBoletim.style.display = 'none';
        btnAdicionar.style.display = 'none';
        btnMostrar.style.display = 'none';



        let nomeMaterias = ["Portugues", "Matématica", "Inglês", "Historia", "Geografia", "Artes"];

        let select = document.getElementById("nomeMaterias");

        nomeMaterias.forEach(function (materia) {
            let option = document.createElement("option");
            option.value = materia;
            option.text = materia;
            select.appendChild(option);
        });


        let materias = [];
        let users = [];
        let user = { nome: "", instituicao: "", curso: "", materia: [] };

        function aluno() {

            const alunoDiv = document.getElementById('divAluno');

            let checkboxInstituicao = document.getElementById('nomeInstituicao');

            let checkboxCurso = document.getElementById('nomeCurso');


            if (nomeAluno.value === "") {
                alerta2.innerHTML = " Digite o nome do Aluno"
            } else if (!checkboxInstituicao.checked) {
                alerta2.innerHTML = " Marque a instituição"
            } else if (!checkboxCurso.checked) {
                alerta2.innerHTML = "Marque o curso"
            } else {
                user.nome = nomeAluno.value;
                user.instituicao = checkboxInstituicao.checked ? checkboxInstituicao.nextElementSibling.textContent : '';;
                user.curso = checkboxCurso.checked ? checkboxCurso.nextElementSibling.textContent : '';;

                alunoDiv.style.display = 'none';
                divBoletim.style.display = 'block'
            }
        }

        function notas() {

            let materia = { id: 0, nome: "", notas: [], total: 0, printInfo: "", };
            let inputNotas = [];
            let totalNotas = 0;

            let resultados = `<b>BOLETIM DE: ${user.nome.toLocaleUpperCase()}</b><br><b>INSTITUIÇÃO/ESCOLA: ${user.instituicao.toLocaleUpperCase()} </b><br><b>CURSO: ${user.curso.toLocaleUpperCase()} </b>
            <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col">Primeiro Bimestre</th>
                                    <th scope="col">Segundo Bimestre</th>
                                    <th scope="col">Terceiro Bimestre</th>
                                    <th scope="col">Quarto Bimestre</th>
                                    <th scope="col">Nota Final</th>
                                    <th scope="col">Situação</th>
                                </tr>   
                            </thead> <br>  <tbody>`;



            function isValidValue(value) {
                return !isNaN(value) && isFinite(value);
            }




            function validarCampo(valor, limite) {
                if (isValidValue(valor) && valor <= limite && valor >= 0) {
                    inputNotas.push(valor);
                } else {
                    mensagemValidaCampo(limite);
                }

            }

            function validaMateria(nomeMateria) {
                mensagemValidaMateria();
                return materias.some(materia => materia.nome === nomeMateria);
            }

            function mensagemValidaCampo(limite) {
                alerta2.innerHTML = " "
                alerta3.innerHTML = " "
                if (limite === 20) {
                    alerta.innerHTML = "A Primeira nota deve ser um numero positivo até 20";
                } else if (limite === 25) {
                    alerta.innerHTML = "A Segunda/Terceira nota deve ser um numero positivo até 25";
                } else if (limite === 30) {
                    alerta.innerHTML = "A quarta nota deve ser um numero positivo até 30";
                }
            }

            function mensagemValidaMateria() {
                alerta.innerHTML = "Essa matéria já foi adicionada!";
                alerta2.innerHTML = " "
                alerta3.innerHTML = " "
            }

            validarCampo(parseFloat(document.getElementById('bim1').value), 20)
            validarCampo(parseFloat(document.getElementById('bim2').value), 25)
            validarCampo(parseFloat(document.getElementById('bim3').value), 25)
            validarCampo(parseFloat(document.getElementById('bim4').value), 30)

            inputNotas.forEach(e => {
                totalNotas += e;
            })


            if (inputNotas.length < 4 || validaMateria(document.getElementById('nomeMaterias').value)) {

            } else {
                alerta.innerHTML = " "
                let materiaNome = document.getElementById('nomeMaterias').value;

                materias.push(
                    {

                        id: materia.id++,
                        nome: materiaNome,
                        notas: inputNotas,
                        total: totalNotas,
                        info: `
                                    <td scope="row">${materiaNome}</td>
                                    <td>${inputNotas[0]}</td>
                                    <td>${inputNotas[1]}</td>
                                    <td>${inputNotas[2]}</td>
                                    <td>${inputNotas[3]}</td>
                                    <td>${totalNotas}</td>
                                    <td>${isAprovadoOuReprovado(totalNotas)}</td>
                                    </tr>
                            `

                    }
                )


                function isAprovadoOuReprovado(valor) {
                    if (valor >= 60) {
                        return "APROVADO"
                    } else {
                        return "REPROVADO"
                    }
                }


                materias.forEach((materia) => {
                    resultados += materia.info;
                })

                resultNotas.innerHTML = resultados;

                if (materias.length === 6) {

                    divSelect.style.display = 'none';
                    btnSalvar.style.display = 'none'
                    btnAdicionar.style.display = 'block'
                    btnMostrar.style.display = 'block'
                    resultNotas.style.display = 'none';
                    bimestres.style.display = 'none';

                    users.push({
                        nome: user.nome,
                        instituicao: user.instituicao,
                        curso: user.curso,
                        materia: materias
                    })
                }
            }
        }



        function adicionaOutro() {
            if (materias.length === 6) {
                resultNotas.style.display = 'block';
                btnAdicionar.style.display = 'none'
                btnMostrar.style.display = 'none'
                divSelect.style.display = 'block';
                btnSalvar.style.display = 'block';
                bimestres.style.display = 'block';
                nomeAluno.value = "";
                user.nome = "";
                user.instituicao = "";
                user.curso = "";
                user.materia = [];
                document.getElementById('bim1').value = "";
                document.getElementById('bim2').value = "";
                document.getElementById('bim3').value = "";
                document.getElementById('bim4').value = "";
                resultNotas.innerHTML = "";
                resultNotas2.innerHTML = "";
                materias = [];

                divAluno.style.display = 'block';
                divBoletim.style.display = 'none';

                alerta.innerHTML = "";
                alerta2.innerHTML = "";
                alerta3.innerHTML = "";
                materias = [];
                divAluno.style.display = 'block'
            } else {
                alerta3.innerHTML = "Adicione todas as 6 materias";
                alerta.innerHTML = " ";
                alerta2.innerHTML = " ";
            }

        }

        function teste() {

            if (materias.length === 6) {
                resultNotas.innerHTML = "  "
                resultNotas2.innerHTML = "  "

                users.forEach((aluno) => {
                    let resultados = `<details>  <summary><b>${aluno.nome.toLocaleUpperCase()}</b></summary><br><b>INSTITUIÇÃO/ESCOLA: ${aluno.instituicao.toLocaleUpperCase()} </b><br><b>CURSO: ${aluno.curso.toLocaleUpperCase()} </b>
            <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col">Primeiro Bimestre</th>
                                    <th scope="col">Segundo Bimestre</th>
                                    <th scope="col">Terceiro Bimestre</th>
                                    <th scope="col">Quarto Bimestre</th>
                                    <th scope="col">Nota Final</th>
                                    <th scope="col">Situação</th>
                                </tr>   
                            </thead> <br>  <tbody>`;

                    aluno.materia.forEach((materia) => {
                        resultados += materia.info;
                        resultados += `</details>`
                    });

                    resultNotas2.innerHTML += resultados;
                })
            } else {
                alerta3.innerHTML = "Adicione todas as 6 materias";
                alerta.innerHTML = " ";
                alerta2.innerHTML = " ";
            }



        }





        function verificaVazio(texto, texto2) {

            if (document.getElementById(texto).value === '') {
                document.getElementById(texto2).innerHTML = "Digite um numero";
                return true;
            } else {
                document.getElementById(texto2).innerHTML = " ";
                return false;
            }

        }


        function tabuada() {

            if (!verificaVazio('tabuada', 'resultTabuada')) {


                let numero = document.getElementById('tabuada').value;

                for (let i = 1; i < 11; i++) {
                    document.getElementById('resultTabuada').innerHTML += numero + " * " + i + " = " + numero * i + '<br>';
                }
            }
        }

        function contagemRegressiva() {

            if (!verificaVazio('regressiva', 'resultRegressiva')) {

                let numero = document.getElementById('regressiva').value;
                let final = 0;


                while (final != 1) {
                    final = numero--
                    document.getElementById('resultRegressiva').innerHTML += final + "<br>";
                }
            }
        }


        function fatorial() {

            if (!verificaVazio('fatorial', 'resultFatorial')) {

                let numero = document.getElementById('fatorial').value;
                let resultado = numero;

                for (let i = 1; i < numero; i++) {
                    resultado = resultado * i;
                    document.getElementById('resultFatorial').innerHTML += numero + " * " + i + " = " + resultado + "<br>";
                }
            }


        }



        function salvarIdade() {

            if (!verificaVazio('idade', 'resultIdade')) {

                let idade = document.getElementById('idade').value;

                if (idade < 18) {
                    document.getElementById('resultIdade').innerText = "Você é menor de idade";
                } else if (idade >= 18 && idade < 65) {
                    document.getElementById('resultIdade').innerText = "Você é adulto";
                } else {
                    document.getElementById('resultIdade').innerText = "Você é idoso";
                }
            }
        }

        function compararNumeros() {

            if (!verificaVazio('comparar', 'resultComparar') && !verificaVazio('comparar2', 'resultComparar')) {

                let numero1 = parseFloat(document.getElementById('comparar').value);
                let numero2 = parseFloat(document.getElementById('comparar2').value);

                if (numero1 == numero2) {
                    document.getElementById('resultComparar').innerText = "Os numeros são iguais";
                } else if (numero1 > numero2) {
                    document.getElementById('resultComparar').innerText = "O primeiro é maior que o segundo";
                } else {
                    document.getElementById('resultComparar').innerText = "O segundo é maior que o primeiro";
                }
            }
        }

        function verificarDivisivel() {

            if (!verificaVazio('divisivel', 'resultDivisivel') && !verificaVazio('divisivel2', 'resultDivisivel')) {

                let numero1 = document.getElementById('divisivel').value;
                let numero2 = document.getElementById('divisivel2').value;
                let resultado = numero1 % numero2;

                if (resultado === 0) {
                    document.getElementById('resultDivisivel').innerText = "O primeiro numero é divisivel pelo segundo";
                } else {
                    document.getElementById('resultDivisivel').innerText = "O primeiro numero não é divisivel pelo segundo";
                }
            }
        }

        function verificaTemperatura() {

            if (!verificaVazio('temperatura', 'resultTemperatura')) {

                let temperatura = document.getElementById('temperatura').value;

                if (temperatura < 18) {
                    document.getElementById('resultTemperatura').innerText = "Está frio";
                } else if (temperatura >= 18 && temperatura < 30) {
                    document.getElementById('resultTemperatura').innerText = "O clima está agradavel";
                } else {
                    document.getElementById('resultTemperatura').innerText = "Está quente";
                }
            }
        }

    </script>
    <script type="module" src="/Header/header.js"></script>
</body>

</html>